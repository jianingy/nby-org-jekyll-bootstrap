---
title: How to blog with org-jekyll
layout: post
category: org-mode
on: <2013-04-17 Wed>
---


<p>
This is about how to write blogs using org-mode and to publish with
jekyll. First, I'd like to thank <a href="https://github.com/juanre">Juan Reyero</a> for his great work &#x2013;
<a href="https://github.com/juanre/org-jekyll">org-jekyll</a> that glues org-mode and jekyll together perfectly.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Installation</h2>
<div class="outline-text-2" id="text-1">
<p>
You can install org-jekyll by either download it fromg github or
install with el-get like other elisps. Be sure that org-jekyll been
loaded properly, for example,
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(add-to-list 'load-path "/path/to/your/org-jekyll")
(require 'org-jekyll)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Configuration</h2>
<div class="outline-text-2" id="text-2">
<p>
You need to setup a org probject for org-jekyll just like any other
org projects except for a few options. Let's start with an example,
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">;; tell org-jekyll where it can find the category of a post.
(setq org-jekyll-category "CATEGORY")

(setq nby/org-jekyll-base-directory "~/blog/source/")
(setq nby/org-jekyll-publish "~/blog/publish/")
(setq nby/site-root "http://jianingy.github.io")

(add-to-list 'org-publish-project-alist
             `("nby-blog"
               :base-directory ,nby/org-jekyll-base-directory
               :recursive t
               :html-extension "html"
               :base-extension "org"
               :publishing-directory ,nby/org-jekyll-publish
               :blog-publishing-directory ,nby/org-jekyll-publish
               :site-root ,nby/site-root
               :jekyll-sanitize-permalinks t
               :publishing-function org-html-publish-to-html
               :section-numbers nil
               :headline-levels 4
               :table-of-contents nil
               :auto-index nil
               :auto-preamble nil
               :body-only t
               :auto-postamble nil))
</pre>
</div>

<p>
You can find meanings of most of the options from org-mode's
documentation. While those options that org-jekyll cares about are
explained well on <a href="http://juanreyero.com/open/org-jekyll/">Juan's blog about org-jekyll</a> :P
</p>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Blogging</h2>
<div class="outline-text-2" id="text-3">
<p>
First, of course, write it in org-mode fashion. Second, add a tag
named <code>:blog:</code> to the post so that org-jekyll can find it. Then, add a
<code>on</code> property to your post with a value of the date of your post.
Normally, you can do it with a shortcut <code>&lt;C-c .&gt;</code>. The final post would
look like,
</p>

<div class="org-src-container">

<pre class="src src-org">* How to write blog with org-jekyll                                    <span style="font-weight: bold;">:blog:</span>
, :PROPERTIES:
, :CATEGORY: org-mode
, :ON: &lt;2013-04-17 Wed&gt;
, :END:
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Publishing</h2>
<div class="outline-text-2" id="text-4">
<p>
org-jekyll provides two interactive functions for publishing:
<code>org-jekyll-export-blog</code> and <code>org-jekyll-export-current-entry</code>.
</p>

<p>
With <code>org-jekyll-export-blog</code>, org-jekyll finds all the posts with
<code>:blog:</code> tag and publish them. While with the other, org-jekyll
only publish the post where your cursor is blinking on.
</p>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">Working with org-mode 8.0 (ox-html)</h2>
<div class="outline-text-2" id="text-5">
<p>
Starting from org-mode 8.0, the entire publishing infrastucture been
replaced by ox- serial files. As a result, it breaks org-jekyll. So,
if you are using org-mode 8.0 with ox-html, please git clone
org-mode-8.0 branch from Juan's repository.
</p>
</div>
</div>
